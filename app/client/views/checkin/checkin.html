<div class="page">
    <script src="../../src/qrscanner/jsqrcode-combined.min.js"></script> 
    <script src="../../src/qrscanner/html5-qrcode.min.js"></script>
    <div class="divided title">
        Check In
        <i class="help circle icon link head" data-content="Check in users here with a QR code or unique id" data-variation="inverted" data-position="right center"></i>
    </div>
    <div class="ui stackable page grid">
            <div class="column">
                <div class="ui form">
                     <div id="reader" style="width:400px;height:400px;margin:auto;"></div>
                     <div class="field">
                       <input type="text" id="qrInput">      
                     </div>
                </div>

            </div>
    </div>

    <table
    class="ui celled selectable compact users table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>E-mail address</th>
        <th>School</th>
        <th>Team</th>
        <th>Age</th>
        <th>V/S/A/C</th>
        <th>R€</th>
        <th>A€</th>
        <th></th>
        <th></th>
        <th>Country</th>
        <th>City</th>
        <th>Home Country</th>
        <th>Travel</th>
        <th>Acc.</th>
        <th>Track pref.</th>
        <th>Occ. status</th>
        <th>Exp.</th>
        <th>Secret</th>

      </tr>
    </thead>
    <tbody>
      <tr
        ng-click="selectUser(user)"
        ng-repeat="user in users"
        ng-class="rowClass(user)">
        <td>
          <strong>
          {{user.id}}
          &nbsp;
        </strong>
        <td>
            {{user.profile.name}}
        </td>
        <td>{{user.email}}</td>
        <td>{{user.profile.school}}</td>
        <td>{{user.teamCode}}</td>
        <td>{{user.profile.age}}</td>
        <td
          class="collapsing">

          <!-- Verified -->
          <i
            ng-if="user.verified"
            class="green check circle icon">
          </i>
          <i
            ng-if="!user.verified"
            class="red remove circle icon">
          </i>

          <!-- Submitted -->
          <i
            ng-if="user.status.completedProfile"
            class="green check circle icon">
          </i>
          <i
            ng-if="!user.status.completedProfile"
            class="red remove circle icon">
          </i>

          <!-- Admitted -->
          <i
            ng-if="user.status.admitted"
            class="green check circle icon">
          </i>
          <i
            ng-if="!user.status.rejected && !user.status.admitted"
            class="thin circle icon">
          </i>
          <i
            ng-if="user.status.rejected"
            class="red remove circle icon">
          </i>
          <!-- Confirmed -->
          <i
            ng-if="!user.status.admitted"
            class="circle thin icon">
          </i>
          <i
            ng-if="user.status.admitted && user.status.confirmed"
            class="green check circle icon">
          </i>
          <i
            ng-if="user.status.admitted && !user.status.confirmed && !user.status.declined"
            class="question icon">
          </i>
          <i
            ng-if="user.status.admitted && user.status.declined"
            class="red remove circle icon">
          </i>
        </td>
        <td> 
        {{user.profile.AppliedreimbursementClass}}

        </td>
        <td>
          {{user.profile.AcceptedreimbursementClass}}
        </td>
        
        <td
          class="collapsing">
          <button
            ng-click="goUser($event, user)"
            class="ui circular mini basic icon button">
            <i class="linkify icon"></i>
          </button>
        </td>

        <td
          class="right aligned collapsing">

            <button
            ng-click="toggleReject($event, user, $index)"
            class="ui circular mini basic red icon button">
            <i
              ng-if="!user.status.rejected"
              class="flag outline icon"></i>
            <i
              ng-if="user.status.rejected"
              class="red flag icon"></i>
          </button>

          <button
            ng-click="toggleCheckIn($event, user, $index)"
            class="ui circular mini basic green icon button">

            <i
              ng-if="!user.status.checkedIn"
              class="flag outline icon"></i>

            <i
              ng-if="user.status.checkedIn"
              class="green flag icon"></i>

          </button>

        </td>
        <td>{{user.profile.travelFromCountry}}</td>
        <td>{{user.profile.travelFromCity}}</td>
        <td>{{user.profile.homeCountry}}</td>

        <td
          class="collapsing">

          <!-- Required travel reimportsement -->
          <i
            ng-if="user.profile.needsReimbursement"
            class="green check circle icon">
          </i>
          <i
            ng-if="!user.profile.needsReimbursement"
            class="red remove circle icon">
          </i>
        </td>

        <td
          class="collapsing">

          <!-- Applies for accomodation -->
          <i
            ng-if="user.profile.applyAccommodation"
            class="green check circle icon">
          </i>
          <i
            ng-if="!user.profile.applyAccommodation"
            class="red remove circle icon">
          </i>
        </td>
        <td>{{user.profile.mostInterestingTrack}}</td>
        <td>{{user.profile.occupationalStatus[0]}}</td>
        <td>{{user.profile.codingExperience[0]}}</td>
        <td>{{user.profile.secret}}</td>
      </tr>
    </tbody>
  </table>
</div>